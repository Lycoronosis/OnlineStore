{% extends "base.html" %}

{% block content %}

    <h1>{{ product.name }}</h1>
    <p>{{ product.description }}</p>
    <p>Price: ${{ product.price }}</p>
    <h2>Parameters:</h2>
    <ul>
        {% for parameter in product.parameters.all %}
            <li>{{ parameter.key }}: {{ parameter.value }}</li>
        {% endfor %}
    </ul>

    <!-- Formularz dodawania do koszyka z polem ilości -->
    <form id="add-to-cart-form" method="POST" action="{% url 'cart_add' product.id %}">
        {% csrf_token %}
        
        <!-- Pole wyboru ilości produktu -->
        <div class="form-group">
            <label for="quantity">Quantity:</label>
            <input type="number" id="quantity" name="quantity" class="form-control" min="1" value="1" />
        </div>

        <!-- Przycisk dodawania do koszyka -->
        <button type="submit" class="btn btn-primary" id="add-to-cart-button">
            Add to Cart
        </button>
    </form>

    <p id="cart-message"></p>
    {% if messages %}
    <div class="container mt-3">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    </div>
    {% endif %}

{% endblock %}
